datasource db {
  provider = "postgresql"
  url = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model FamilyRecord {
  id                   Int      @id @default(autoincrement())
  mandalName           String
  villageName          String
  rationCard           String?
  voterCard            String?
  name                 String   // ‚Üê Changed from familyHead to name
  numFamilyPersons     Int
  address              String
  phoneNumber          String
  aadhar               String?
  gender               String
  dateOfBirth          DateTime?
  qualification        String?
  caste                String?
  subCaste             String?
  occupation           String?
  needEmployment       String?
  arogyasriCardNumber  String?
  shgMember            String?
  schemesEligible      String?
  remarks              String?
  birthdayThisWeek     Boolean  @default(false)
  birthdayThisMonth    Boolean  @default(false)
  createdAt            DateTime @default(now())
  @@index([mandalName])
  @@index([villageName])
  @@index([mandalName, villageName])
}
model SmsLog {
  id          Int      @id @default(autoincrement())
  message     String
  recipients  Int
  numbers     String   // comma-separated
  sentAt      DateTime @default(now())
}